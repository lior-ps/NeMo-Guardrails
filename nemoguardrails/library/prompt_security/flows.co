# INPUT RAILS

@active
flow protect prompt
  """Check if the prompt is valid according to Prompt Security."""
  $invalid = await protect_text(context=$context)

  if $invalid
    bot inform answer unknown
    abort


# OUTPUT RAILS

@active
flow protect response
  """Check if the response is valid according to Prompt Security."""
  $invalid = await protect_text(context=$context)

  if $invalid
    bot inform answer unknown
    abort