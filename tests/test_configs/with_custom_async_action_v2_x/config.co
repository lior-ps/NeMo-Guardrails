flow main
  match UtteranceUserAction.Finished(final_transcript="start")
  start CustomAsyncTestAction() as $action_ref
  while True:
    when $action_ref.ValueUpdated() as $ref:
      start UtteranceBotAction(script="Value: {$ref.number}")
    or when NewCustomUmimEvent() as $ref:
      start UtteranceBotAction(script="Secret: {$ref.secret}")
    or when $action_ref.Finished() as $event:
      start UtteranceBotAction(script="End")
      break
